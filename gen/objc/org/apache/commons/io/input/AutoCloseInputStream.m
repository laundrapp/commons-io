//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/marcussmith/temp/commons-io/src/main/java/org/apache/commons/io/input/AutoCloseInputStream.java
//

#include "J2ObjC_source.h"
#include "java/io/InputStream.h"
#include "org/apache/commons/io/input/AutoCloseInputStream.h"
#include "org/apache/commons/io/input/ClosedInputStream.h"
#include "org/apache/commons/io/input/ProxyInputStream.h"

@implementation OrgApacheCommonsIoInputAutoCloseInputStream

- (instancetype __nonnull)initWithJavaIoInputStream:(JavaIoInputStream *)inArg {
  OrgApacheCommonsIoInputAutoCloseInputStream_initWithJavaIoInputStream_(self, inArg);
  return self;
}

- (void)close {
  [((JavaIoInputStream *) nil_chk(JreLoadVolatileId(&in_))) close];
  JreVolatileStrongAssign(&in_, create_OrgApacheCommonsIoInputClosedInputStream_init());
}

- (void)afterReadWithInt:(jint)n {
  if (n == -1) {
    [self close];
  }
}

- (void)java_finalize {
  [self close];
  [super java_finalize];
}

- (void)dealloc {
  JreCheckFinalize(self, [OrgApacheCommonsIoInputAutoCloseInputStream class]);
  [super dealloc];
}

@end

void OrgApacheCommonsIoInputAutoCloseInputStream_initWithJavaIoInputStream_(OrgApacheCommonsIoInputAutoCloseInputStream *self, JavaIoInputStream *inArg) {
  OrgApacheCommonsIoInputProxyInputStream_initWithJavaIoInputStream_(self, inArg);
}

OrgApacheCommonsIoInputAutoCloseInputStream *new_OrgApacheCommonsIoInputAutoCloseInputStream_initWithJavaIoInputStream_(JavaIoInputStream *inArg) {
  J2OBJC_NEW_IMPL(OrgApacheCommonsIoInputAutoCloseInputStream, initWithJavaIoInputStream_, inArg)
}

OrgApacheCommonsIoInputAutoCloseInputStream *create_OrgApacheCommonsIoInputAutoCloseInputStream_initWithJavaIoInputStream_(JavaIoInputStream *inArg) {
  J2OBJC_CREATE_IMPL(OrgApacheCommonsIoInputAutoCloseInputStream, initWithJavaIoInputStream_, inArg)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsIoInputAutoCloseInputStream)
