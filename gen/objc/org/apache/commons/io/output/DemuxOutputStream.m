//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/marcussmith/temp/commons-io/src/main/java/org/apache/commons/io/output/DemuxOutputStream.java
//

#include "J2ObjC_source.h"
#include "java/io/OutputStream.h"
#include "java/lang/InheritableThreadLocal.h"
#include "org/apache/commons/io/output/DemuxOutputStream.h"

@interface OrgApacheCommonsIoOutputDemuxOutputStream () {
 @public
  JavaLangInheritableThreadLocal *m_streams_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheCommonsIoOutputDemuxOutputStream, m_streams_, JavaLangInheritableThreadLocal *)

@implementation OrgApacheCommonsIoOutputDemuxOutputStream

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype __nonnull)init {
  OrgApacheCommonsIoOutputDemuxOutputStream_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (JavaIoOutputStream *)bindStreamWithJavaIoOutputStream:(JavaIoOutputStream *)output {
  JavaIoOutputStream *stream = [((JavaLangInheritableThreadLocal *) nil_chk(m_streams_)) get];
  [m_streams_ setWithId:output];
  return stream;
}

- (void)close {
  JavaIoOutputStream *output = [((JavaLangInheritableThreadLocal *) nil_chk(m_streams_)) get];
  if (nil != output) {
    [output close];
  }
}

- (void)flush {
  JavaIoOutputStream *output = [((JavaLangInheritableThreadLocal *) nil_chk(m_streams_)) get];
  if (nil != output) {
    [output flush];
  }
}

- (void)writeWithInt:(jint)ch {
  JavaIoOutputStream *output = [((JavaLangInheritableThreadLocal *) nil_chk(m_streams_)) get];
  if (nil != output) {
    [output writeWithInt:ch];
  }
}

- (void)dealloc {
  RELEASE_(m_streams_);
  [super dealloc];
}

@end

void OrgApacheCommonsIoOutputDemuxOutputStream_init(OrgApacheCommonsIoOutputDemuxOutputStream *self) {
  JavaIoOutputStream_init(self);
  JreStrongAssignAndConsume(&self->m_streams_, new_JavaLangInheritableThreadLocal_init());
}

OrgApacheCommonsIoOutputDemuxOutputStream *new_OrgApacheCommonsIoOutputDemuxOutputStream_init() {
  J2OBJC_NEW_IMPL(OrgApacheCommonsIoOutputDemuxOutputStream, init)
}

OrgApacheCommonsIoOutputDemuxOutputStream *create_OrgApacheCommonsIoOutputDemuxOutputStream_init() {
  J2OBJC_CREATE_IMPL(OrgApacheCommonsIoOutputDemuxOutputStream, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsIoOutputDemuxOutputStream)
